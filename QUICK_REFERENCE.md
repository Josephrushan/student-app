# Quick Reference - Visibility Settings & File Formats

## File Upload Support Matrix

```
FILE FORMAT          PREVIEW      DOWNLOAD    MODULES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MP4 Video            âœ… Player     âœ… Yes      Homework, Resources
WebM Video           âœ… Player     âœ… Yes      Homework, Resources
OGG Video            âœ… Player     âœ… Yes      Homework, Resources
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PDF                  âœ… Viewer     âœ… Yes      Homework, Resources
DOCX                 âœ… Preview    âœ… Yes      Homework, Resources
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PNG/JPG/GIF          âœ… Gallery    âœ… Yes      Homework, Resources
WebP/SVG             âœ… Gallery    âœ… Yes      Homework, Resources
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
YouTube URL          âœ… Embedded   N/A         Resources
Vimeo URL            âœ… Embedded   N/A         Resources
```

## Visibility Settings at a Glance

```
SETTING                    ICON    AUDIENCE                          DEFAULT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
All Schools Network        ðŸŒ     All staff & students everywhere    âŒ Not default
My School Only            ðŸ¢     All grades in your school          âœ… SAFE DEFAULT
Same Grade Only           ðŸ”’     Your grade only                     âŒ Not default
Select Specific Grades    ðŸŽ¯     Pick 2-4 grades manually           âŒ Not default
```

## How Students See Content

```
STUDENT IN GRADE 10, SCHOOL A
====================================
Sees:
â”œâ”€ All Schools Network items (all educators)
â”œâ”€ My School Only items from School A
â”œâ”€ Same Grade Only items (because student = Grade 10)
â”œâ”€ Specific Grades items that include Grade 10
â”‚
Does NOT see:
â”œâ”€ Items from School B (unless All Schools)
â”œâ”€ Grade 9 "Same Grade Only" items
â””â”€ Specific Grades that don't include Grade 10
```

## Creating Homework with Visibility

```
CREATE ASSIGNMENT FORM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Subject] [Grade] [Title]
[Due Date] [Upload Cover Image]
[Instructions Textarea]
[Upload Attachments - MP4, PDF, DOCX, Images]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHARE SETTINGS                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜ ðŸŒ All Schools Network                 â”‚
â”‚    Visible to educators across all       â”‚
â”‚                                          â”‚
â”‚ â˜‘ ðŸ¢ My School Only                      â”‚
â”‚    Visible to all grades in your school  â”‚
â”‚                                          â”‚
â”‚ â˜ ðŸ”’ Same Grade Only                     â”‚
â”‚    Visible only to Grade 10              â”‚
â”‚                                          â”‚
â”‚ â˜ ðŸŽ¯ Select Specific Grades             â”‚
â”‚    Choose which grades can view          â”‚
â”‚    [Grade 9] [Grade 10] [Grade 11]       â”‚
â”‚    [Grade 12]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Publish Task Button]
```

## Creating Learning Resource with Visibility

```
CREATE RESOURCE FORM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Title] [Subject] [Grade Level]
[Upload Thumbnail]
[Choose: Video/Link or Upload File]

Video/Link:
[Paste YouTube/Vimeo URL]

OR File:
[Select PDF/DOCX/MP4/Images]

[Description]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SHARE SETTINGS (Same 4 Options)          â”‚
â”‚                                          â”‚
â”‚ â˜‘ ðŸ¢ My School Only  (DEFAULT)          â”‚
â”‚ â˜ ðŸŒ All Schools Network                â”‚
â”‚ â˜ ðŸ”’ Same Grade Only                    â”‚
â”‚ â˜ ðŸŽ¯ Select Specific Grades            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Verify & Publish Entry Button]
```

## File Preview Capabilities

```
MP4 VIDEO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Video Title        [X Close]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚      â–¶ [PLAY BUTTON]                â”‚
â”‚      [HTML5 Video Player]           â”‚
â”‚      â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º       â”‚
â”‚      [Volume] [Fullscreen] [Ctrl]   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description below                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PDF DOCUMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document Title     [X Close]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚      [Page Preview - Image]         â”‚
â”‚      [High Quality Rendering]       â”‚
â”‚                                     â”‚
â”‚  â—„ Previous  |  Page 3 of 50  |  â–º Next
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description below                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WORD DOCUMENT (DOCX)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document Title     [X Close]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  # Heading 1                        â”‚
â”‚  Formatted content with styles      â”‚
â”‚  **Bold text** and _italic_         â”‚
â”‚  â€¢ Bullet points                    â”‚
â”‚  â€¢ Are supported                    â”‚
â”‚  Scrollable area for long docs      â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description below                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IMAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Image Title        [X Close]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚         [Full-Size Image]           â”‚
â”‚         [Optimized Display]         â”‚
â”‚         [Maintains Aspect Ratio]    â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Description below                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Database Rules Summary

```
BEFORE (Old Rules)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if (schoolId == mySchoolId) {
  allow read
}
â†’ Simple school-based access

AFTER (New Rules with Visibility)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if (visibility == 'all-schools') {
  allow read  // Everyone
}
else if (visibility == 'school' && schoolId == mySchoolId) {
  allow read  // My school only
}
else if (visibility == 'grade' && grade == myGrade) {
  allow read  // Same grade only
}
else if (visibility == 'specific-grade' && myGrade in visibleGrades) {
  allow read  // Specific grades
}
â†’ Four-tier granular access control
```

## Common Use Cases

```
SCENARIO 1: District Curriculum
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Resource: "NCERT Math Textbook Solutions"
Set to: ðŸŒ All Schools Network
Why: Share best practices across district
Who sees: Every school in the district

SCENARIO 2: School Event
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Assignment: "Science Fair - Submit Projects"
Set to: ðŸ¢ My School Only
Why: Only relevant to our school
Who sees: All students in school

SCENARIO 3: Grade-Level Exam
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Assignment: "Grade 12 Final Exam Prep"
Set to: ðŸ”’ Same Grade Only
Why: Prevents younger students seeing it
Who sees: Grade 12 only

SCENARIO 4: Differentiated Learning
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Resource: "Advanced Algebra - Grade 10-12"
Set to: ðŸŽ¯ Select Specific Grades
Select: Grade 10, Grade 11, Grade 12
Why: Remedial students not ready yet
Who sees: Only selected advanced grades
```

## Keyboard Shortcuts & Tips

```
TIPS FOR EDUCATORS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ Default to "My School Only" - safer
âœ“ Test visibility with one assignment first
âœ“ Use thumbnails for better UI
âœ“ Include file type in names: "Chapter5_PDF"
âœ“ Can't change visibility after creating?
  â†’ Delete and recreate
âœ“ Check file formats are supported
  â†’ Video: MP4/WebM/OGG
  â†’ Doc: PDF/DOCX
  â†’ Images: PNG/JPG/GIF/WebP
âœ“ Preview always available in-app
âœ“ Download always available
âœ“ Large files (>500MB)?
  â†’ Compress before uploading
```

## Troubleshooting Checklist

```
CAN'T SEE ASSIGNMENT?
â–¡ Check grade matches visibility
â–¡ If "Specific Grades" - is your grade listed?
â–¡ Check if in same school (for "My School Only")
â–¡ Refresh browser
â–¡ Check Firestore rules deployed

FILE WON'T PREVIEW?
â–¡ Check file format is supported
â–¡ Try download instead (fallback)
â–¡ Check file isn't corrupted
â–¡ Check file size < limits
â–¡ Browser DevTools â†’ Console for errors

VISIBILITY SETTINGS NOT SHOWING?
â–¡ Clear browser cache
â–¡ Refresh page
â–¡ Check you have educator/principal role
â–¡ Check currentUser.grade is set

RULES NOT WORKING?
â–¡ Deploy rules: firebase deploy --only firestore:rules
â–¡ Check myGrade() helper is present
â–¡ Verify visibility field exists in data
â–¡ Check visibleGrades array format
â–¡ Test with Firebase Console
```

## Icons Used

```
ðŸŒ Globe    = All Schools Network
ðŸ¢ Building = My School Only
ðŸ”’ Lock     = Same Grade Only / Select Specific
ðŸŽ¯ Target   = Select Specific Grades
ðŸ“¹ Video    = MP4/Video content
ðŸ“„ Document = PDF/DOCX content
ðŸ–¼ï¸  Image    = Image files
ðŸ”— Link     = YouTube/Vimeo
ðŸ‘ï¸ Eye      = View/Preview
â¬‡ï¸ Download = Download file
```

## Version Info

```
Multimedia Viewer Version: 1.0
â”œâ”€ MP4 Support: pdfjs-dist 3.11.174
â”œâ”€ PDF Support: mammoth 1.8.1
â”œâ”€ React: 19.2.0
â””â”€ TypeScript: Latest

Visibility System Version: 1.0
â”œâ”€ Firebase Rules: v2
â”œâ”€ Multi-tenant: âœ… Supported
â”œâ”€ Backward Compatible: âœ… Yes
â””â”€ Roles Supported: Teacher, Principal
```

---

**Last Updated:** January 27, 2026
**Status:** âœ… Complete & Ready for Production
